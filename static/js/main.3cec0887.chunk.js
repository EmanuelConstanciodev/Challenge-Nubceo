(this.webpackJsonpsuperheroapp=this.webpackJsonpsuperheroapp||[]).push([[0],{114:function(e,t,s){},122:function(e,t,s){},125:function(e,t,s){},126:function(e,t,s){},127:function(e,t,s){},128:function(e,t,s){},129:function(e,t,s){},130:function(e,t,s){},131:function(e,t,s){},132:function(e,t,s){"use strict";s.r(t);var n=s(6),a=s(0),c=s(72),r=s.n(c),i=s(83),o=s(84),l=s.n(o),j=function(){var e=Object(i.a)(r.a.mark((function e(t,s,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("https://my-json-server.typicode.com/improvein/dev-challenge/db");case 3:a=e.sent,console.log(a.data),t(a.data.genre),s(a.data.bands),n(a.data.albums),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,s,n){return e.apply(this,arguments)}}(),d=s(1),b=Object(a.createContext)();var u=function(e){var t=e.children,s=Object(a.useState)([]),c=Object(n.a)(s,2),r=c[0],i=c[1],o=Object(a.useState)([]),l=Object(n.a)(o,2),u=l[0],m=l[1],O=Object(a.useState)([]),h=Object(n.a)(O,2),x=h[0],p=h[1],f=Object(a.useState)(null),v=Object(n.a)(f,2),g=v[0],w=v[1],N=Object(a.useState)(null),y=Object(n.a)(N,2),C=y[0],k=y[1],S=Object(a.useState)(!1),L=Object(n.a)(S,2),P=L[0],B=L[1],I=Object(a.useState)(!1),_=Object(n.a)(I,2),z=_[0],A=_[1],E=Object(a.useState)({name:"",year:"",members:[],genre:"",country:"",albums:[]}),F=Object(n.a)(E,2),D=F[0],G=F[1];Object(a.useEffect)((function(){j(m,i,p)}),[]);var H={bands:r,setBands:i,user:g,setUser:w,password:C,setPassword:k,genre:u,setGenre:m,data:D,setData:G,albums:x,setAlbums:p,lgShow:P,setLgShow:B,loading:z,setLoading:A};return Object(d.jsx)(b.Provider,{value:H,children:t})},m=s(23),O=s.n(m),h=(s(114),s(34)),x=s(7),p=s(2);var f=function(e){return null===localStorage.getItem("token")?Object(d.jsx)(x.a,{to:"/"}):Object(d.jsx)(x.b,Object(p.a)({},e))},v=s(86),g=s(48),w=s(47);s(82),s(122);var N=function(){var e=Object(x.g)();return Object(d.jsx)(g.a,{expand:"lg",className:"navbar",children:Object(d.jsxs)(v.a,{children:[Object(d.jsx)(g.a.Brand,{className:"navbar-brand text-white",href:"/home",children:"apibands"}),Object(d.jsx)(g.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(d.jsx)(g.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end",children:Object(d.jsxs)(w.a,{className:"drop",children:[Object(d.jsx)(w.a.Link,{className:"justify-content-center text-white",onClick:function(){return e.push("/")},children:"Home"}),Object(d.jsx)(w.a.Link,{className:"justify-content-center text-white",onClick:function(){return e.push("/list")},children:"Bands"}),Object(d.jsx)(w.a.Link,{className:"justify-content-center text-white",onClick:function(){return localStorage.removeItem("token"),void e.push("/")},children:"Log Out"})]})})]})})};s(125);var y=function(e){var t=e.title,s=Object(x.g)();return Object(d.jsx)("div",{className:"btn-container",children:Object(d.jsxs)("a",{className:"btn__start",onClick:function(){return s.push("/list")},children:[Object(d.jsx)("p",{children:t}),Object(d.jsx)("img",{className:"icon",src:"https://img.icons8.com/ios/50/000000/arrow.png"})]})})};var C=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(N,{}),Object(d.jsx)("h1",{className:"text-danger text-center",children:"Welcome musicDB"}),Object(d.jsx)(y,{title:"Get Started"})]})},k=s(33),S=s(71);s(126);var L=function(){return Object(d.jsxs)("div",{class:"sk-chase",children:[Object(d.jsx)("div",{class:"sk-chase-dot"}),Object(d.jsx)("div",{class:"sk-chase-dot"}),Object(d.jsx)("div",{class:"sk-chase-dot"}),Object(d.jsx)("div",{class:"sk-chase-dot"}),Object(d.jsx)("div",{class:"sk-chase-dot"}),Object(d.jsx)("div",{class:"sk-chase-dot"})]})};s(127);var P=function(){var e=Object(x.g)(),t=Object(a.useContext)(b),s=(t.user,t.password,t.setUser,t.setPassword,t.loading),n=t.setLoading,c=function(){e.push("/home"),n(!1)},r=function(e){""===e.email&&""===e.password||(localStorage.setItem("token",e.email),n(!0),setTimeout(c,3e3))};return Object(d.jsx)(k.d,{initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(e.email)?""===e.email&&(t.email="Please complete the form"):t.email="Please submit a correct email":t.email="Please submit a email",e.password?e.password.length<4||e.password.length>20?t.password="Please submit a correct password":""===e.password&&(t.password="Please complete the form"):t.password="Please submit a password",t},onSubmit:function(e){r(e)},children:function(e){var t=e.errors,n=e.values;return Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsxs)("div",{className:"row no-gutter",children:[Object(d.jsx)("div",{className:"col-md-6 d-none d-md-flex bg-image"}),Object(d.jsx)("div",{className:"col-md-6 bg-light",children:s?Object(d.jsx)("div",{className:"login d-flex align-items-center py-5",children:Object(d.jsx)(L,{})}):Object(d.jsx)("div",{className:"login d-flex align-items-center py-5",children:Object(d.jsx)(k.c,{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-lg-10 col-xl-7 mx-auto",children:[Object(d.jsx)("h3",{className:"display-4 text-center m-5",children:"Log In!"}),Object(d.jsxs)("form",{children:[Object(d.jsxs)("div",{className:"form-group mb-3",children:[Object(d.jsx)(k.b,{id:"email",type:"email",placeholder:"Email address",value:n.email,className:"form-control rounded-pill border-0 shadow-sm px-4"}),Object(d.jsx)(k.a,{name:"email",component:function(){return Object(d.jsx)("span",{className:"text-danger text-center",children:t.email})}})]}),Object(d.jsxs)("div",{className:"form-group mb-3",children:[Object(d.jsx)(k.b,{id:"password",type:"password",placeholder:"Password",value:n.password,className:"form-control rounded-pill border-0 shadow-sm px-4 text-primary"}),Object(d.jsx)(k.a,{name:"password",component:function(){return Object(d.jsx)("span",{className:"text-danger",children:t.password})}})]}),Object(d.jsx)(S.a,{className:"btn btn-primary btn-block text-uppercase mb-2 rounded-pill shadow-sm",type:"submit",onClick:function(){return r(n)},children:"Sign in"})]})]})})})})})]})})}})};var B=function(){var e=Object(x.g)(),t=localStorage.getItem("token");return Object(a.useEffect)((function(){if(t)return e.push("/home")}),[e,t]),Object(d.jsx)(P,{})},I=s(40);s(128);var _=function(e){var t=e.band,s=Object(a.useContext)(b),n=s.setLgShow,c=s.data,r=s.setData;return console.log(c),Object(d.jsxs)("section",{className:"music-player",children:[Object(d.jsx)("main",{className:"music-player--main",children:Object(d.jsx)("div",{className:"music-player--controls",children:Object(d.jsxs)("div",{className:"song-info",children:[Object(d.jsx)("div",{className:"song-info--title",children:t.name}),Object(d.jsx)("div",{className:"song-info--artist",children:t.genreCode})]})})}),Object(d.jsx)("button",{className:"btn__view",onClick:function(){return n(!0),void r({name:t.name,year:t.year,members:t.members,genre:t.genreCode,country:t.country,albums:t.discography})},children:"About band"})]})};s(129);var z=function(e){var t=e.search,s=e.setSearch;return Object(d.jsx)("div",{className:"s003",children:Object(d.jsx)("form",{children:Object(d.jsx)("div",{className:"inner-form",children:Object(d.jsx)("div",{className:"input-field second-wrap",children:Object(d.jsx)("input",{id:"search",type:"text",value:t,onChange:function(e){var t=e.target;s(t.value)},placeholder:"Search a Band"})})})})})},A=s(49);var E=function(){var e=Object(a.useContext)(b),t=e.lgShow,s=e.setLgShow,n=e.data,c=n.members,r=n.albums;return console.log(c),Object(a.useEffect)((function(){}),[]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(A.a,{size:"lg",show:t,onHide:function(){return s(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(d.jsx)(A.a.Header,{closeButton:!0,children:Object(d.jsx)(A.a.Title,{id:"example-modal-sizes-title-lg",children:n.name})}),Object(d.jsxs)(A.a.Body,{children:[Object(d.jsxs)("p",{children:["Year: ",n.year]}),Object(d.jsxs)("p",{children:["Genre: ",n.genre]}),Object(d.jsxs)("p",{children:["Country: ",n.country]}),Object(d.jsx)("p",{children:"Members: "}),Object(d.jsx)("ul",{children:c.map((function(e){return Object(d.jsx)("li",{children:e.name})}))}),Object(d.jsx)("p",{children:"Albums:"}),Object(d.jsx)("ul",{children:r?r.map((function(e){return Object(d.jsx)("li",{children:e})})):Object(d.jsx)("p",{children:"No information about it"})})]})]})})};s(130);var F=function(){var e=Object(a.useContext)(b),t=e.bands,s=e.genre,c=(e.setBands,e.albums),r=Object(a.useState)(""),i=Object(n.a)(r,2),o=i[0],l=i[1],j=Object(a.useState)(!1),u=Object(n.a)(j,2),m=u[0],O=u[1],h=Object(a.useState)([]),x=Object(n.a)(h,2),p=x[0],f=x[1],v=t.filter((function(e){return e.name.toLowerCase().includes(o.toLowerCase())?e:e.genreCode.toLowerCase().includes(o.toLowerCase())?{d:e}:void 0})),g=p.filter((function(e){return e.name.toLowerCase().includes(o.toLowerCase())?e:e.genreCode.toLowerCase().includes(o.toLowerCase())?{d:e}:void 0})),w=Object(I.a)(t).sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}));return s.map((function(e){t.map((function(t){t.genreCode===e.code&&(t.genreCode=e.name)}))})),t.map((function(e){return[].concat(Object(I.a)(t),[Object.assign(e,{discography:""})])})),c.map((function(e){t.find((function(t){t.id===e.bandId&&(t.discography=[].concat(Object(I.a)(t.discography),[e.name]))}))})),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(z,{search:o,setSearch:l}),Object(d.jsx)("button",{className:"btn__sort",onClick:function(){return O(!m),void f(w)},children:m?"Refresh":"Filter alphabetically"}),Object(d.jsx)("div",{className:"card-container",children:v.length>0&&(m?g.map((function(e){return Object(d.jsx)(_,{band:e})})):v.map((function(e){return Object(d.jsx)(_,{band:e})})))}),Object(d.jsx)(E,{})]})};var D=function(){return Object(d.jsxs)(a.Fragment,{children:[Object(d.jsx)(N,{}),Object(d.jsx)("h1",{className:"text-danger text-center",children:"Your list"}),Object(d.jsx)(F,{})]})};var G=function(){return Object(d.jsxs)(x.d,{children:[Object(d.jsx)(x.b,{exact:!0,path:"/",component:B}),Object(d.jsx)(f,{exact:!0,path:"/home",component:C}),Object(d.jsx)(f,{exact:!0,path:"/list",component:D})]})};s(131);var H=function(){return Object(d.jsx)(h.a,{children:Object(d.jsx)(G,{})})};O.a.render(Object(d.jsx)(u,{children:Object(d.jsx)(H,{})}),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.3cec0887.chunk.js.map